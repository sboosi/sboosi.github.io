<!DOCTYPE html>
<html>
  <head>
     <script src="https://cdn.jsdelivr.net/npm/fhirclient/build/fhir-client.js"></script>  
  </head>
  <body>
    <div id="patientDiv" style="border-color:black;border-style:inset;padding-left:20px;"></div>    
    
    <script type="text/javascript">
        FHIR.oauth2.ready(function(smart){
            console.log("Smart Login Successful") ;
            console.log(smart) ;
            console.log("access token:" + smart.state.tokenResponse.access_token) ;

            smart.patient.read().then(function(pt) {
                document.getElementById("patientDiv").innerHTML = "<pre>" + JSON.stringify(pt, null, 2) + "</pre>" ;
            });            
        });
    </script>
  </body>
</html>
